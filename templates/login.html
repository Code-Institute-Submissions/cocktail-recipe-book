{% extends 'base.html'%} {% block content %} {% if not logged_in %}
    <p>enter your username and start mixing and shaking</p>
    <div class="row white">
        <form class="col s12" method="POST">
            <div class="row">
                <div class="input-field col s12">
                    <input id="username" name="username" type="text" class="validate" required>
                    <label for="username"><i class="fas fa-user"></i> Username</label>
                </div>
            </div>
            <button class="btn waves-effect waves-light" type="submit">
                Submit
            </button>
        </form>
    </div>
{% endif %} {% if logged_in %}
    <h3 class="art-deco-font">Hi there, {{username}}. Welcome to your Mix and Shake dashboard!</h3>
    <p>Here, you'll find some insights about your recipes and inspiration to keep mixing!</p>
    <h5>
        Inline Number Display. You have created <span class="number-display"></span> recipes.
    </h5>
        <div class="container">

            <div id="number-box"></div>
        </div>
        <div>
            <a href="{{url_for('get_my_recipes')}}" class="waves-effect waves-light btn-small pink darken-4"><i class="fas fa-cocktail"></i>See your Recipes</a>
            <a href="/get_logout" class="waves-effect waves-light btn-small"><i class="fas fa-sign-out-alt"></i>Log Out</a>
        </div>
        <p id="hidden-recipes" hidden>{{recipes|safe}}</p>
        <!-- Below, the script containing the dashboard grapshs -->
        <script>
            $(document).ready(function() {
                console.log('dashboard ready');
                var username = '{{username}}';
                console.log('username: ', username);
                
                var test = $('#hidden-recipes').text();
                var jsonTest = JSON.parse(test);
                console.log(jsonTest);
                
                // var recipes = JSON.parse('{{recipes|safe}}');
                // console.log(recipes);
                
 
            });
        </script>
    {% endif %} {% endblock %}
